(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7990],{59766:function(e,s,t){Promise.resolve().then(t.bind(t,41071))},41071:function(e,s,t){"use strict";t.r(s);var a=t(57437),r=t(2265),i=t(87138),l=t(89733),n=t(77209),d=t(70402),o=t(47019),c=t(75733),u=t(71976),m=t(70518),x=t(55636),h=t(81980),f=t.n(h),p=t(39589),g=t.n(p);t(53311);var b=t(33628),y=t(38472),N=t(39343),j=t(31014),w=t(59772);let{BACKEND_URL:v}=b.app,A=w.z.object({businessName:w.z.string().nonempty("Business Name is required"),email:w.z.string().email("Email is invalid"),phoneNumber:w.z.string().regex(/^\+\d{6,15}$/,"Phone number is invalid. It must start with a '+' and be between 7 to 16 digits long."),password:w.z.string().min(8,"Password must be at least 8 characters"),businessTypeId:w.z.number().optional()});s.default=()=>{let[e,s]=(0,r.useState)(1),[t,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[E,z]=(0,r.useState)({width:0,height:0}),[I,_]=(0,r.useState)([]),[P,T]=(0,r.useState)(!0),[R,Z]=(0,r.useState)(!1),{register:B,handleSubmit:K,formState:{errors:V,isValid:D},setValue:F,getValues:H,trigger:W}=(0,N.cI)({resolver:(0,j.F)(A),mode:"onChange"});(0,r.useEffect)(()=>{z({width:window.innerWidth,height:window.innerHeight})},[]),(0,r.useEffect)(()=>{(async()=>{try{T(!0);let e=await y.Z.get("".concat(v,"/identity/business/types"));e.data&&e.data.data?_(e.data.data):console.error("Unexpected response structure",e.data)}catch(e){console.error(e)}finally{T(!1)}})()},[]);let L=async t=>{if(1===e){if(await W(["businessName","email","phoneNumber","password"]))try{let a=await y.Z.post("".concat(v,"/identity/auth/validate"),{...t,step:e});if(a.data&&a.data.data)s(2);else throw Error("Validation failed")}catch(e){e.response&&e.response.data?S(e.response.data.errors[0]):console.error("Validation failed:",e)}}else if(2===e){if(!t.businessTypeId){Z(!0);return}if(t.businessTypeId){b(!0);try{let a=await y.Z.post("".concat(v,"/identity/auth/register"),{...t,step:e});if(a.data&&a.data.data)k(!0),setTimeout(()=>k(!1),5e3),s(3);else throw Error("Registration failed")}catch(e){console.error("Registration failed:",e)}finally{b(!1)}}}},O=e=>{F("businessTypeId",e,{shouldValidate:!0}),Z(!1)};return(0,a.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-gray-50 p-4",children:(0,a.jsxs)("div",{className:"w-full ".concat(2===e?"container max-w-xs":"max-w-md"," space-y-8"),children:[1===e&&(0,a.jsxs)("div",{className:"bg-white p-8 shadow-lg rounded-lg space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Create an account"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Sign up to get started with our service"})]}),(0,a.jsxs)("form",{onSubmit:K(L),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700",children:"Business Name"}),(0,a.jsx)(n.I,{id:"businessName",type:"text",...B("businessName"),className:"mt-1 block w-full ".concat(V.businessName?"border-red-500":""),placeholder:"Name of Business"}),V.businessName&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:V.businessName.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Business Email"}),(0,a.jsx)(n.I,{id:"email",type:"email",...B("email"),className:"mt-1 block w-full ".concat(V.email?"border-red-500":""),placeholder:"john@example.com"}),V.email&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:V.email.message}),C&&"email"===C.field&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:C.message})]}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(d._,{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,a.jsx)("div",{className:"relative w-full",children:(0,a.jsx)(g(),{country:"ke",onlyCountries:["ke","ug","tz"],value:H("phoneNumber"),onChange:e=>{e.startsWith("+")||(e="+".concat(e)),F("phoneNumber",e=e.length>16?e.slice(0,16):e,{shouldValidate:!0})},inputClass:"!w-full !h-full !pl-14 !pr-3 !py-2 !border ".concat(V.phoneNumber?"!border-red-500":"!border-gray-300"," !rounded-md !focus:outline-none !focus:ring-2 !focus:ring-blue-500 !focus:border-transparent"),containerClass:"!w-full !flex",buttonClass:"!absolute !left-0 !top-0 !bottom-0 !flex !items-center !justify-center !px-3 !border-r !border-gray-300",dropdownClass:"!w-72"})}),V.phoneNumber&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:V.phoneNumber.message}),C&&"phoneNumber"===C.field&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:C.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)(n.I,{id:"password",type:t?"text":"password",...B("password"),className:"block w-full pr-10 ".concat(V.password?"border-red-500":""),placeholder:"••••••••"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>h(!t),children:t?(0,a.jsx)(o.Z,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(c.Z,{className:"h-5 w-5 text-gray-400"})})]}),V.password&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:V.password.message}),C&&"password"===C.field&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:C.message})]}),(0,a.jsx)(l.z,{type:"submit",className:"w-full",disabled:!D,children:"Next"})]}),(0,a.jsx)("div",{className:"text-center text-sm",children:(0,a.jsxs)(i.default,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:["Already have an account? Sign In"," ",(0,a.jsx)(u.Z,{className:"inline h-4 w-5"})]})})]}),2===e&&(0,a.jsxs)("div",{className:"bg-white p-8 shadow-lg rounded-lg space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Select Business Type"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Help us customize your experience"})]}),(0,a.jsxs)("form",{onSubmit:K(L),className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Our POS ERP solution is tailored to fit various types of businesses. Select the category that best describes your business to help us customize the experience for your specific needs."}),R&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:"Please select a business type."}),P?(0,a.jsx)(()=>(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:Array(12).fill().map((e,s)=>(0,a.jsx)("div",{className:"w-full px-2 py-1",children:(0,a.jsx)("div",{className:"w-full h-10 bg-gray-200 rounded-full animate-pulse"})},s))}),{}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:I.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>O(e.id),className:"w-full text-center px-3 py-2 rounded-full text-sm font-medium transition-colors duration-200 ease-in-out ".concat(V.businessTypeId?"bg-red-500 text-white":e.id===H("businessTypeId")?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:e.name},e.id))}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)(l.z,{type:"button",onClick:()=>s(1),variant:"outline",className:"w-1/2 mr-2",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"})," Back"]}),(0,a.jsx)(l.z,{type:"submit",className:"w-1/2 ml-2",disabled:p,children:p?"Registering...":"Complete Signup"})]})]}),(0,a.jsx)("div",{className:"text-center text-sm",children:(0,a.jsxs)(i.default,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:["Already have an account? Sign In"," ",(0,a.jsx)(u.Z,{className:"inline h-4 w-5"})]})})]}),3===e&&(0,a.jsxs)("div",{className:"bg-white p-8 shadow-lg rounded-lg space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"\uD83C\uDF89 You're ready to go!"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Welcome aboard! You're now part of something amazing."})]}),w&&(0,a.jsx)(f(),{width:E.width,height:E.height}),(0,a.jsx)(x.Z,{className:"text-green-500 text-6xl mx-auto"}),(0,a.jsx)("div",{className:"relative w-full bg-gray-200 rounded-full h-2 mb-6",children:(0,a.jsx)("div",{className:"absolute top-0 h-2 w-full bg-green-500 rounded-full transition-all duration-700"})}),(0,a.jsx)("div",{className:"text-center text-sm text-gray-600 mb-8",children:(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"100% Complete"})}),(0,a.jsx)(l.z,{asChild:!0,className:"w-full",children:(0,a.jsx)(i.default,{href:"/login",children:"Go to Login"})}),(0,a.jsxs)("div",{className:"bg-gray-50 py-6 px-4 shadow sm:rounded-lg mt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 text-center",children:"What's next?"}),(0,a.jsxs)("ul",{className:"mt-4 space-y-3",children:[(0,a.jsxs)("li",{className:"flex items-center text-base text-gray-700",children:[(0,a.jsx)("span",{className:"mr-2 text-green-600",children:"✔"})," Set up your profile"]}),(0,a.jsxs)("li",{className:"flex items-center text-base text-gray-700",children:[(0,a.jsx)("span",{className:"mr-2 text-green-600",children:"✔"})," Add your first product"]}),(0,a.jsxs)("li",{className:"flex items-center text-base text-gray-700",children:[(0,a.jsx)("span",{className:"mr-2 text-green-600",children:"✔"})," Explore your dashboard"]})]})]})]})]})})}},89733:function(e,s,t){"use strict";t.d(s,{d:function(){return d},z:function(){return o}});var a=t(57437),r=t(2265),i=t(92974),l=t(12218),n=t(49354);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:o=!1,...c}=e,u=o?i.g7:"button";return(0,a.jsx)(u,{className:(0,n.cn)(d({variant:r,size:l,className:t})),ref:s,...c})});o.displayName="Button"},77209:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var a=t(57437),r=t(2265),i=t(49354);let l=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},70402:function(e,s,t){"use strict";t.d(s,{_:function(){return o}});var a=t(57437),r=t(2265),i=t(57200),l=t(12218),n=t(49354);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.f,{ref:s,className:(0,n.cn)(d(),t),...r})});o.displayName=i.f.displayName},33628:function(e,s,t){"use strict";t.d(s,{app:function(){return a}});let a={APP_NAME:"Transmall",APP_ENV:"prod",BACKEND_URL:"https://dev.api.transmall.app/api/v1",RECAPTCHA_SITE_KEY:"6LeyifghAAAAAOt4Mmxwm2Zb5AbKTzBEpKNUnGIN",RECAPTCHA_SECRET_KEY:"6LeyifghAAAAAHta2NfzzZGhKCQuB2s80JNqDws0",ANALYTICS_ID:"G-WV2KDP3H48"}},49354:function(e,s,t){"use strict";t.d(s,{cn:function(){return i}});var a=t(44839),r=t(96164);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[1959,8472,231,9589,8334,632,2971,7023,1744],function(){return e(e.s=59766)}),_N_E=e.O()}]);